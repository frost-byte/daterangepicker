/*!
 * knockout-daterangepicker-fb
 * version: 0.5.9
 * authors: Sensor Tower team
 * license: MIT
 * https://sensortower.github.io/daterangepicker
 */(function(){var a=function(a,b){if(!(a instanceof b))throw new Error("Bound instance method accessed before binding")};(function(a,b){return"function"==typeof define&&define.amd?define(["moment","knockout","jquery"],b):"undefined"!=typeof exports&&"object"===exports?b(require("moment"),require("knockout"),require("jquery")):b(a.moment,a.ko,a.$)})(this,function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;return o=class{static patchCurrentLocale(a){return b.locale(b.locale(),a)}static setFirstDayOfTheWeek(a){if(a=(a%7+7)%7,b.localeData().firstDayOfWeek()!==a)return this.patchCurrentLocale({week:{dow:a,doy:b.localeData().firstDayOfYear()}})}static tz(){var a,c;return a=Array.prototype.slice.call(arguments,0,-1),c=arguments[arguments.length-1],b.tz?b.tz.apply(null,a.concat([c])):c&&"utc"===c.toLowerCase()?b.utc.apply(null,a):b.apply(null,a)}},n=class{static array(a,b,c){var d,e,f,g,h;for(e=new this(a,c),h=[],(d=f=0,g=b-1);0<=g?f<=g:f>=g;d=0<=g?++f:--f)h.push(e.next());return h}constructor(a,b){this.date=a.clone(),this.period=b}next(){var a;return a=this.date,this.date=a.clone().add(1,this.period),a.clone()}},f=class{static rotateArray(a,b){return b%=a.length,a.slice(b).concat(a.slice(0,b))}static uniqArray(a){var b,c,d,e;for(e=[],c=0,d=a.length;c<d;c++)b=a[c],-1===e.indexOf(b)&&e.push(b);return e}},d.fn.daterangepicker=function(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length?arguments[1]:void 0;return this.each(function(){var c;if(c=d(this),!c.data("daterangepicker"))return a.anchorElement=c,b&&(a.callback=b),a.callback=d.proxy(a.callback,this),c.data("daterangepicker",new m(a))}),this},c.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},c.virtualElements.allowedBindings.stopBinding=!0,c.bindingHandlers.daterangepicker=function(){return d.extend(this,{_optionsKey:"daterangepickerOptions",_formatKey:"daterangepickerFormat",init:function(a,b,e){var f,g;return f=b(),g=c.unwrap(e.get(this._optionsKey))||{},d(a).daterangepicker(g,function(a,b){return f([a,b])})},update:function(a,e,f){var g,h,i,j,k,l,m;return g=d(a),[l,j,h]=e()(),i=c.unwrap(f.get(this._formatKey))||"MMM D, YYYY",m=b(l).format(i),k=b(j).format(i),c.ignoreDependencies(function(){var a;return g.data("daterangepicker").standalone()||(a=g.data("daterangepicker").single()?m:`${m} â€“ ${k}`,g.val(a).text(a)),g.data("daterangepicker").startDate(l),g.data("daterangepicker").endDate(j),g.data("daterangepicker").allEvents(h)})}})}(),c.bindingHandlers.fireChange={update:function(a,b,e){var f;if(f=c.unwrap(e.get("value")),f)return d(a).change()}},l=class{constructor(a,b,c){this.title=a,this.startDate=b,this.endDate=c}},e=class extends l{},j=class extends l{},q=function(){class a{static scale(a){return"day"===a||"week"===a?"month":"year"}static showWeekDayNames(a){return"day"===a||"week"===a}static nextPageArguments(a){var b,c;return b="year"===a?9:1,c=this.scale(a),[b,c]}static format(a){return"day"===a||"week"===a?"D":"month"===a?"MMM":"quarter"===a?"\\QQ":"year"===a?"YYYY":void 0}static title(a,b){return"day"===a?b.dayLabel:"week"===a?b.weekLabel:"month"===a?b.monthLabel:"quarter"===a?b.quarterLabel:"year"===a?b.yearLabel:void 0}static dimentions(a){return"day"===a?[7,6]:"week"===a?[1,6]:"month"===a?[3,4]:"quarter"===a?[2,2]:"year"===a?[3,3]:void 0}static extendObservable(b){return this.methods.forEach(function(c){return b[c]=function(){return a[c](b())}}),b}}return a.allPeriods=["day","week","month","quarter","year"],a.methods=["scale","showWeekDayNames","nextPageArguments","format","title","dimentions"],a}.call(this),k=function(){class a{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.period=a.period,this.minDate=a.minDate,this.maxDate=a.maxDate,this.startDate=a.startDate,this.endDate=a.endDate,this.hideWeekends=a.hideWeekends}_hideWeekends(a){return c.observable(a||!1)}}return a.defaultExtents={day:new a({period:"day",minDate:[b().subtract(30,"years")],maxDate:[b()],startDate:b().subtract(29,"days"),endDate:b()}),week:new a({period:"week",minDate:[b().subtract(30,"years")],maxDate:[b()],startDate:b().subtract(29,"days"),endDate:b()}),month:new a({period:"month",minDate:[b().subtract(30,"years")],maxDate:[b()],startDate:b().subtract(29,"days"),endDate:b()}),quarter:new a({period:"quarter",minDate:[b().subtract(30,"years")],maxDate:[b()],startDate:b().subtract(29,"days"),endDate:b()}),year:new a({period:"year",minDate:[b().subtract(30,"years")],maxDate:[b()],startDate:b().subtract(29,"days"),endDate:b()})},a}.call(this),p=class{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.firstDayOfWeek=a.firstDayOfWeek||0,this.allEvents=a.allEvents||[],this.timeZone=a.timeZone||"UTC",this.periods=a.periods||q.allPeriods,this.period=a.period||"day",this.periodExtents=a.periodExtents||k.defaultExtents,this.currentExtent=this.periodExtents[this.period]||k.defaultExtents.day,this.customPeriodRanges=a.customPeriodRanges||{},this.single=a.single||!1,this.opened=a.opened||!1,this.hideWeekends=a.hideWeekends||!1,this.expanded=a.expanded||!1,this.standalone=a.standalone||!1,this.hideWeekdays=a.hideWeekdays||!1,this.locale=a.locale||{},this.orientation=a.orientation||"right",this.forceUpdate=a.forceUpdate||!1,this.minDate=this.currentExtent.minDate||b().subtract(30,"years"),this.maxDate=this.currentExtent.maxDate||b(),this.startDate=a.startDate||b().subtract(29,"days"),this.endDate=a.endDate||b(),this.ranges=a.ranges||null,this.isCustomPeriodRangeActive=!1,this.anchorElement=a.anchorElement,this.parentElement=a.parentElement||"",this.callback=a.callback}},i=class{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.changeExtent=this.changeExtent.bind(this),this.updatePeriod=this.updatePeriod.bind(this),this.firstDayOfWeek=this._firstDayOfWeek(a.firstDayOfWeek),this.allEvents=this._allEvents(a.allEvents),this.timeZone=this._timeZone(a.timeZone),this.periods=this._periods(a.periods),this.customPeriodRanges=this._customPeriodRanges(a.customPeriodRanges),this.single=this._single(a.single),this.opened=this._opened(a.opened),this.hideWeekends=this._hideWeekends(a.hideWeekends),this.expanded=this._expanded(a.expanded),this.standalone=this._standalone(a.standalone),this.hideWeekdays=this._hideWeekdays(a.hideWeekdays),this.locale=this._locale(a.locale),this.orientation=this._orientation(a.orientation),this.forceUpdate=a.forceUpdate,this.periodExtents=this._periodExtents(a.periodExtents),this.period=this._period(a.period),this.changeExtent(a.period),this.ranges=this._ranges(a.ranges),this.isCustomPeriodRangeActive=c.observable(!1),this.anchorElement=this._anchorElement(a.anchorElement),this.parentElement=this._parentElement(a.parentElement),this.callback=this._callback(a.callback),this.firstDayOfWeek.subscribe(function(a){return o.setFirstDayOfTheWeek(a)}),o.setFirstDayOfTheWeek(this.firstDayOfWeek())}extend(a){var b,c,d,e;for(b in c=this,d=[],c)e=c[b],this.hasOwnProperty(b)&&"_"!==b[0]&&d.push(a[b]=e);return d}findExtent(a){return this.periodExtents()[a]?this.periodExtents()[a]:this.periodExtents().day}changeExtent(a){if(a||(a=this.periods()[0]),"day"!==a&&"week"!==a&&"month"!==a&&"quarter"!==a&&"year"!==a)throw new Error("Invalid period");return this.currentExtent=this._currentExtent(this.findExtent(a)),this.minDate=this._minDate(this.currentExtent().minDate),this.maxDate=this._maxDate(this.currentExtent().maxDate),this.startDate=this._startDate(this.currentExtent().startDate),this.endDate=this._endDate(this.currentExtent().endDate),this.hideWeekends=this._hideWeekends(this.currentExtent().hideWeekends),this.period=this._period(a),{currentExtent:this.currentExtent,minDate:this.minDate,maxDate:this.maxDate,startDate:this.startDate,endDate:this.endDate,hideWeekends:this.hideWeekends,period:this.period}}updatePeriod(a){return this._period(a)}_firstDayOfWeek(a){return c.observable(a?a:0)}_allEvents(a){return c.observable(a||[])}_timeZone(a){return c.observable(a||"UTC")}_periods(a){return c.observableArray(a||q.allPeriods)}_periodExtents(a){return c.observable(a||k.defaultExtents)}_currentExtent(a){return c.observable(a||k.defaultExtents.day)}_customPeriodRanges(a){var b,c,d;for(c in a||(a={}),b=[],a)d=a[c],b.push(this.parseRange(d,c));return b}_period(a){if(a||(a=this.periods()[0]),"day"!==a&&"week"!==a&&"month"!==a&&"quarter"!==a&&"year"!==a)throw new Error("Invalid period");return q.extendObservable(c.observable(a))}_single(a){return c.observable(a||!1)}_opened(a){return c.observable(a||!1)}_hideWeekends(a){return c.observable(a||!1)}_expanded(a){return c.observable(a||!1)}_standalone(a){return c.observable(a||!1)}_hideWeekdays(a){return c.observable(a||!1)}_minDate(a){var c;return a instanceof Array?[a,c]=a:a instanceof Object&&({val:a,mode:c}=a),a||(a=b().subtract(30,"years")),this._dateObservable(a,c)}_maxDate(a){var c;return a instanceof Array?[a,c]=a:a instanceof Object&&({val:a,mode:c}=a),a||(a=b()),this._dateObservable(a,c,this.minDate)}_startDate(a){return a||(a=b().subtract(29,"days")),this._dateObservable(a,null,this.minDate,this.maxDate)}_endDate(a){return a||(a=b()),this._dateObservable(a,null,this.startDate,this.maxDate)}_ranges(a){var b,c,f;if(a||(a=this._defaultRanges()),!d.isPlainObject(a))throw new Error("Invalid ranges parameter (should be a plain object)");for(c in b=[],a)f=a[c],"all-time"===f?b.push(new e(c,this.minDate().clone(),this.maxDate().clone())):"custom"===f?b.push(new j(c)):b.push(this.parseRange(f,c));return b}parseRange(a,b){var c,e,f,g;if(!d.isArray(a))throw new Error("Value should be an array");if([f,c]=a,!f)throw new Error("Missing start date");if(!c)throw new Error("Missing end date");if(e=o.tz(f,this.timeZone()),g=o.tz(c,this.timeZone()),!e.isValid())throw new Error("Invalid start date");if(!g.isValid())throw new Error("Invalid end date");return new l(b,e,g)}_locale(a){return d.extend({applyButtonTitle:"Apply",cancelButtonTitle:"Cancel",inputFormat:"L",startLabel:"Start",endLabel:"End",dayLabel:"Day",weekLabel:"Week",monthLabel:"Month",quarterLabel:"Quarter",yearLabel:"Year"},a||{})}_orientation(a){if(a||(a="right"),"right"!==a&&"left"!==a)throw new Error("Invalid orientation");return c.observable(a)}_dateObservable(a,d,e,f){var g,h,i,j,k;return k=c.observable(),g=c.computed({read:function(){return k()},write:function(a){var b;if(a=g.fit(a),b=k(),!(b&&a.isSame(b)))return k(a)}}),g.mode=d||"inclusive",i=a=>{var c;if(e){switch(c=e(),e.mode){case"extended":c=c.clone().startOf(this.period());break;case"exclusive":c=c.clone().endOf(this.period()).add(1,"millisecond")}a=b.max(c,a)}return a},h=a=>{var c;if(f){switch(c=f(),f.mode){case"extended":c=c.clone().endOf(this.period());break;case"exclusive":c=c.clone().startOf(this.period()).subtract(1,"millisecond")}a=b.min(c,a)}return a},j=function(b){var c;return a=6>(c=b.day())&&0<c,a},g.fit=a=>(a=o.tz(a,this.timeZone()),h(i(a))),g(a),g.clone=()=>this._dateObservable(k(),g.mode,e,f),g.isWithinBoundaries=a=>{var b,c,d,g,h,i,k,l,m;return a=o.tz(a,this.timeZone()),g=e(),c=f(),b=a.isBetween(g,c,this.period()),k=a.isSame(g,this.period()),i=a.isSame(c,this.period()),h="exclusive"===e.mode,d="exclusive"===f.mode,m=j(a),l="day"!==this.period()||m||!m&&!this.hideWeekends(),(b||!h&&k&&!(d&&i)||!d&&i&&!(h&&k))&&l},e&&(g.minBoundary=e,e.subscribe(function(){return g(k())})),f&&(g.maxBoundary=f,f.subscribe(function(){return g(k())})),g}_defaultRanges(){return{"Last 30 days":[b().subtract(29,"days"),b()],"Last 90 days":[b().subtract(89,"days"),b()],"Last Year":[b().subtract(1,"year").add(1,"day"),b()],"All Time":"all-time","Custom Range":"custom"}}_anchorElement(a){return d(a)}_parentElement(a){return d(a||(this.standalone()?this.anchorElement:"body"))}_callback(a){if(a&&!d.isFunction(a))throw new Error("Invalid callback (not a function)");return a}},g=class{constructor(a){this.clickPrevButton=this.clickPrevButton.bind(this),this.clickNextButton=this.clickNextButton.bind(this),this.currentDate=a.currentDate,this.period=a.period,this.timeZone=a.timeZone,this.firstDate=a.firstDate,this.firstYearOfDecade=a.firstYearOfDecade,this.prevDate=c.pureComputed(()=>{var a,b;return[a,b]=this.period.nextPageArguments(),this.currentDate().clone().subtract(a,b)}),this.nextDate=c.pureComputed(()=>{var a,b;return[a,b]=this.period.nextPageArguments(),this.currentDate().clone().add(a,b)}),this.selectedMonth=c.computed({read:()=>this.currentDate().month(),write:a=>{var b;if(b=this.currentDate().clone().month(a),!b.isSame(this.currentDate(),"month"))return this.currentDate(b)},pure:!0}),this.selectedYear=c.computed({read:()=>this.currentDate().year(),write:a=>{var c;if(c=this.currentDate().clone().year(a||b().year()),!c.isSame(this.currentDate(),"year"))return this.currentDate(c)},pure:!0}),this.selectedDecade=c.computed({read:()=>this.firstYearOfDecade(this.currentDate()).year(),write:a=>{var b,c,d;if(d=(this.currentDate().year()-this.selectedDecade())%9,c=a+d,b=this.currentDate().clone().year(c),!b.isSame(this.currentDate(),"year"))return this.currentDate(b)},pure:!0})}clickPrevButton(){return this.currentDate(this.prevDate())}clickNextButton(){return this.currentDate(this.nextDate())}prevArrowCss(){var a,b;return a=this.firstDate().clone().subtract(1,"millisecond"),("day"===(b=this.period())||"week"===b)&&(a=a.endOf("month")),{"arrow-hidden":!this.currentDate.isWithinBoundaries(a)}}nextArrowCss(){var a,b,c,d;return[a,d]=this.period.dimentions(),b=this.firstDate().clone().add(a*d,this.period()),("day"===(c=this.period())||"week"===c)&&(b=b.startOf("month")),{"arrow-hidden":!this.currentDate.isWithinBoundaries(b)}}monthOptions(){var a,b;return b=this.currentDate.minBoundary().isSame(this.currentDate(),"year")?this.currentDate.minBoundary().month():0,a=this.currentDate.maxBoundary().isSame(this.currentDate(),"year")?this.currentDate.maxBoundary().month():11,function(){for(var c=[],d=b;b<=a?d<=a:d>=a;b<=a?d++:d--)c.push(d);return c}.apply(this)}yearOptions(){var a;return function(){for(var b=[],c=a=this.currentDate.minBoundary().year(),d=this.currentDate.maxBoundary().year();a<=d?c<=d:c>=d;a<=d?c++:c--)b.push(c);return b}.apply(this)}decadeOptions(){return f.uniqArray(this.yearOptions().map(a=>{var b;return b=o.tz([a],this.timeZone()),this.firstYearOfDecade(b).year()}))}monthSelectorAvailable(){var a;return"day"===(a=this.period())||"week"===a}yearSelectorAvailable(){return"year"!==this.period()}decadeSelectorAvailable(){return"year"===this.period()}monthFormatter(a){return b.utc([2015,a]).format("MMM")}yearFormatter(a){return b.utc([a]).format("YYYY")}decadeFormatter(a){var b,c,d;return[b,c]=q.dimentions("year"),d=a+b*c-1,`${a} â€“ ${d}`}},h=class{constructor(a,b,d){this.inRange=this.inRange.bind(this),this.isEvent=this.isEvent.bind(this),this.tableValues=this.tableValues.bind(this),this.eventsForDate=this.eventsForDate.bind(this),this.cssForDate=this.cssForDate.bind(this),this.allEvents=a.allEvents,this.period=a.period,this.single=a.single,this.timeZone=a.timeZone,this.locale=a.locale,this.startDate=a.startDate,this.endDate=a.endDate,this.isCustomPeriodRangeActive=a.isCustomPeriodRangeActive,this.type=d,this.label=a.locale[`${d}Label`]||"",this.hoverDate=c.observable(null),this.activeDate=b,this.currentDate=b.clone(),this.inputDate=c.computed({read:()=>(this.hoverDate()||this.activeDate()).format(this.locale.inputFormat),write:a=>{var b;if(b=o.tz(a,this.locale.inputFormat,this.timeZone()),b.isValid())return this.activeDate(b)},pure:!0}),this.firstDate=c.pureComputed(()=>{var a,b;switch(a=this.currentDate().clone().startOf(this.period.scale()),this.period()){case"day":case"week":b=a.clone(),a.weekday(0),(a.isAfter(b)||a.isSame(b,"day"))&&a.subtract(1,"week");break;case"year":a=this.firstYearOfDecade(a)}return a}),this.lastDate=c.pureComputed(()=>{var a,b;switch(a=this.currentDate().clone().endOf(this.period.scale()),this.period()){case"day":case"week":b=this.firstDate().clone(),a=b.add(6,"week").subtract(1,"day");break;case"year":a=this.lastYearOfDecade(a)}return a}),this.activeDate.subscribe(a=>this.currentDate(a)),this.headerView=new g(this)}calendar(){var a,b,c,d,e,f,g,h,i;for([b,i]=this.period.dimentions(),d=new n(this.firstDate(),this.period()),g=[],(h=e=1,f=i);1<=f?e<=f:e>=f;h=1<=f?++e:--e)g.push(function(){var e,f,g;for(g=[],a=e=1,f=b;1<=f?e<=f:e>=f;a=1<=f?++e:--e)c=d.next(),"end"===this.type?g.push(c.endOf(this.period())):g.push(c.startOf(this.period()));return g}.call(this));return g}weekDayNames(){return f.rotateArray(b.weekdaysMin(),b.localeData().firstDayOfWeek())}inRange(a){return a.isAfter(this.startDate(),this.period())&&a.isBefore(this.endDate(),this.period())||a.isSame(this.startDate(),this.period())||a.isSame(this.endDate(),this.period())}isEvent(a){var b,c,d,e;for(e=this.allEvents(),c=0,d=e.length;c<d;c++)if(b=e[c],a.isSame(b,"year")&&a.isSame(b,"month")&&a.isSame(b,"day"))return!0;return!1}tableValues(a){var b,c,d;switch(b=this.period.format(),this.period()){case"day":case"month":case"year":return[{html:a.format(b)}];case"week":return a=a.clone().startOf(this.period()),n.array(a,7,"day").map(a=>({html:a.format(b),css:{"week-day":!0,unavailable:this.cssForDate(a,!0).unavailable}}));case"quarter":return d=a.format(b),a=a.clone().startOf("quarter"),c=n.array(a,3,"month").map(function(a){return a.format("MMM")}),[{html:`${d}<br><span class='months'>${c.join(", ")}</span>`}]}}eventsForDate(a){return{click:()=>{if(this.activeDate.isWithinBoundaries(a))return this.activeDate(a)},mouseenter:()=>{if(this.activeDate.isWithinBoundaries(a))return this.hoverDate(this.activeDate.fit(a))},mouseleave:()=>this.hoverDate(null)}}cssForDate(a,b){var c,d,e,f;return e=a.isSame(this.activeDate(),this.period()),f=this.activeDate.isWithinBoundaries(a),b||(b="day"===this.period()),c=!a.isSame(this.currentDate(),"month"),d=this.inRange(a),{"in-range":!this.single()&&(d||e),[`${this.type}-date`]:e,highlight:!this.single()&&(d||e),clickable:f&&!this.isCustomPeriodRangeActive(),"out-of-boundaries":!f||this.isCustomPeriodRangeActive(),unavailable:b&&c}}firstYearOfDecade(a){var d,e,f,g,c=Math.floor;return d=o.tz(b(),this.timeZone()).year(),e=d-4,f=c((a.year()-e)/9),g=e+9*f,o.tz([g],this.timeZone()).startOf("year")}lastYearOfDecade(a){var d,e,f,g,c=Math.ceil;return d=o.tz(b(),this.timeZone()).year(),e=d+4,f=c((a.year()-e)/9),g=e+9*f,o.tz([g],this.timeZone()).endOf("year")}},m=function(){class b extends i{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};super(a),this.setRangeFromExtent=this.setRangeFromExtent.bind(this),this.setDateRange=this.setDateRange.bind(this),this.setCustomPeriodRange=this.setCustomPeriodRange.bind(this),this.outsideClick=this.outsideClick.bind(this),this.startSubscriber={},this.endSubscriber={},this.rangeSubscriber={},this.startCalendar={},this.endCalendar={},this.startDateInput={},this.endDateInput={},this.style=c.observable({}),this.template="<div class=\"daterangepicker\" data-bind=\"css: $data.cssClasses(), style: $data.style()\"> <div class=\"controls\"> <ul class=\"periods\"> <!-- ko foreach: $data.periods --> <li class=\"period\" data-bind=\"css: {active: $parent.isActivePeriod($data) && !$parent.isCustomPeriodRangeActive()}, text: $parent.periodProxy.title($data, $parent.getLocale()), click: function(){ $parent.setPeriod($data); }\"></li> <!-- /ko --> <!-- ko foreach: $data.customPeriodRanges --> <li class=\"period\" data-bind=\"css: {active: $parent.isActiveCustomPeriodRange($data)}, text: $data.title, click: function(){ $parent.setCustomPeriodRange($data); }\"></li> <!-- /ko --> </ul> <ul class=\"ranges\" data-bind=\"foreach: $data.ranges\"> <li class=\"range\" data-bind=\"css: {active: $parent.isActiveDateRange($data)}, text: $data.title, click: function(){ $parent.setDateRange($data); }\"></li> </ul> <form data-bind=\"submit: $data.applyChanges\"> <div class=\"custom-range-inputs\"> <input type=\"text\" data-bind=\"value: $data.startDateInput, event: {focus: $data.inputFocus}\" /> <input type=\"text\" data-bind=\"value: $data.endDateInput, event: {focus: $data.inputFocus}\" /> </div> <div class=\"custom-range-buttons\"> <button class=\"apply-btn\" type=\"submit\" data-bind=\"text: $data.locale.applyButtonTitle, click: $data.applyChanges\"></button> <button class=\"cancel-btn\" data-bind=\"text: $data.locale.cancelButtonTitle, click: $data.cancelChanges\"></button> </div> </form> </div> <!-- ko foreach: $data.calendars() --> <div class=\"calendar\"> <div class=\"calendar-title\" data-bind=\"text: $data.label\"></div> <div class=\"calendar-header\" data-bind=\"with: $data.headerView\"> <div class=\"arrow\" data-bind=\"css: $data.prevArrowCss()\"> <button data-bind=\"click: $data.clickPrevButton\"><span class=\"arrow-left\"></span></button> </div> <div class=\"calendar-selects\"> <select class=\"month-select\" data-bind=\"options: $data.monthOptions(), optionsText: $data.monthFormatter, valueAllowUnset: true, value: $data.selectedMonth, fireChange: true, css: {hidden: !$data.monthSelectorAvailable()}\"></select> <select class=\"year-select\" data-bind=\"options: $data.yearOptions(), optionsText: $data.yearFormatter, valueAllowUnset: true, value: $data.selectedYear, fireChange: true, css: {hidden: !$data.yearSelectorAvailable()}\"></select> <select class=\"decade-select\" data-bind=\"options: $data.decadeOptions(), optionsText: $data.decadeFormatter, valueAllowUnset: true, value: $data.selectedDecade, fireChange: true, css: {hidden: !$data.decadeSelectorAvailable()}\"></select> </div> <div class=\"arrow\" data-bind=\"css: $data.nextArrowCss()\"> <button data-bind=\"click: $data.clickNextButton\"><span class=\"arrow-right\"></span></button> </div> </div> <div class=\"calendar-table\"> <!-- ko if: $parent.periodProxy.showWeekDayNames($data.period()) --> <div class=\"table-row weekdays\" data-bind=\"foreach: $data.weekDayNames()\"> <div class=\"table-col\"> <div class=\"table-value-wrapper\"> <div class=\"table-value\" data-bind=\"text: $data\"></div> </div> </div> </div> <!-- /ko --> <!-- ko foreach: $data.calendar() --> <div class=\"table-row\" data-bind=\"foreach: $data\"> <div class=\"table-col\" data-bind=\"event: $parents[1].eventsForDate($data), css: $parents[1].cssForDate($data)\"> <div class=\"table-value-wrapper\" data-bind=\"foreach: $parents[1].tableValues($data)\"> <div class=\"table-value\" data-bind=\"html: $data.html, css: $data.css\"></div> </div> </div> </div> <!-- /ko --> </div> </div> <!-- /ko --> </div>",this.setRangeFromExtent(this.period()),this.opened()&&this.updatePosition()}setRangeFromExtent(e){var f,g,i,j,k,l,m,n,o,p,q,r;if(a(this,b),(null==(k=this.startSubscriber)?void 0:k.dispose)&&this.startSubscriber.dispose(),(null==(l=this.endSubscriber)?void 0:l.dispose)&&this.endSubscriber.dispose(),(null==(m=this.rangeSubscriber)?void 0:m.dispose)&&this.rangeSubscriber.dispose(),({currentExtent:this.currentExtent,minDate:this.minDate,maxDate:this.maxDate,startDate:this.startDate,endDate:this.endDate,hideWeekends:this.hideWeekends}=this.changeExtent(e)),this.updatePeriod(e),this.startCalendar=new h(this,this.startDate,"start"),this.endCalendar=new h(this,this.endDate,"end"),this.startDateInput=this.startCalendar.inputDate,this.endDateInput=this.endCalendar.inputDate,this.startSubscriber=this.startDate.subscribe(a=>{var b,c;return(b={},c=a,null!=c.length&&(c=a[0]),this.single())?(c=c.startOf(this.period()),b=c.clone().endOf(this.period()),this.endDate(b),this.dateRange([c,b]),this.close()):(this.endDate().isSame(a)&&this.endDate(this.endDate().clone().endOf(this.period())),this.standalone())?this.updateDateRange():void 0}),this.endSubscriber=this.endDate.subscribe(()=>{if(!this.single()&&this.standalone())return this.updateDateRange()}),this.dateRange=c.observable([this.startDate(),this.endDate()]),this.callback&&(this.rangeSubscriber=this.dateRange.subscribe(a=>{var b,c;return[c,b]=a,c=c.clone().startOf(this.period()),this.single()&&(b=c.clone().endOf(this.period()),this.endDate(b)),this.callback(c.clone(),b.clone(),this.period(),this.startCalendar.firstDate(),this.endCalendar.lastDate())}),this.forceUpdate&&([o,f]=this.dateRange(),this.callback(o.clone(),f.clone(),this.period(),this.startCalendar.firstDate(),this.endCalendar.lastDate()))),this.anchorElement&&(g=this.containerElement?c.contextFor(this.containerElement.get(0)):void 0,n=Object.keys(this.cssClasses()),i=void 0,g&&(j=this.containerElement.get(0),j.classList.remove("daterangepicker",...n),i=0<j.classList.length?j.classList.value.split(" "):void 0,c.cleanNode(this.containerElement.get(0)),r=d(this.parentElement).children("div").last(),p=r.attr("style"),r.remove(),d(this.containerElement).remove()),q=d("<div data-bind=\"stopBinding: true\"></div>").appendTo(this.parentElement),p&&q.attr("style",p),this.containerElement=d(this.template).appendTo(q),c.applyBindings(this,this.containerElement.get(0)),i&&this.containerElement.get(0).classList.add(...i),this.anchorElement.click(()=>(this.updatePosition(),this.toggle())),!this.standalone()))return d(document).on("mousedown.daterangepicker",this.outsideClick).on("touchend.daterangepicker",this.outsideClick).on("click.daterangepicker","[data-toggle=dropdown]",this.outsideClick).on("focusin.daterangepicker",this.outsideClick)}getLocale(){return this.locale}calendars(){return this.single()?[this.startCalendar]:[this.startCalendar,this.endCalendar]}updateDateRange(){return this.dateRange([this.startDate(),this.endDate()])}cssClasses(){var a,b,c,d,e;for(c={single:this.single(),opened:this.standalone()||this.opened(),expanded:this.standalone()||this.single()||this.expanded(),standalone:this.standalone(),"hide-weekdays":this.hideWeekdays(),"hide-periods":1===this.periods().length+this.customPeriodRanges.length,"orientation-left":"left"===this.orientation(),"orientation-right":"right"===this.orientation()},e=q.allPeriods,(a=0,b=e.length);a<b;a++)d=e[a],c[`${d}-period`]=d===this.period();return c}isActivePeriod(a){return this.period()===a}isActiveDateRange(a){var b,c,d,e;if(a.constructor===j){for(e=this.ranges,c=0,d=e.length;c<d;c++)if(b=e[c],b.constructor!==j&&this.isActiveDateRange(b))return!1;return!0}return this.startDate().isSame(a.startDate,"day")&&this.endDate().isSame(a.endDate,"day")}isActiveCustomPeriodRange(a){return this.isActiveDateRange(a)&&this.isCustomPeriodRangeActive()}inputFocus(){return this.expanded(!0)}triggerRangeCallback(){var a,b;if(this.callback)return b=this.startDate().clone().startOf(this.period),a=this.single()?b.clone():this.endDate().clone(),a=a.endOf(this.period()),this.callback(b.clone(),a.clone(),this.period(),this.startCalendar.firstDate(),this.endCalendar.lastDate())}setPeriod(a){return this.isCustomPeriodRangeActive(!1),({currentExtent:this.currentExtent,minDate:this.minDate,maxDate:this.maxDate,startDate:this.startDate,endDate:this.endDate,hideWeekends:this.hideWeekends}=this.changeExtent(a)),this.period(a),this.setRangeFromExtent(a),this.triggerRangeCallback(),this.expanded(!0)}setDateRange(c){return a(this,b),c.constructor===j?this.expanded(!0):(this.expanded(!1),this.close(),this.changeExtent("day"),this.startDate(c.startDate),this.endDate(c.endDate),this.updateDateRange())}setCustomPeriodRange(c){return a(this,b),this.isCustomPeriodRangeActive(!0),this.setDateRange(c)}applyChanges(){return this.close(),this.updateDateRange()}cancelChanges(){return this.close()}open(){return this.opened(!0)}close(){if(!this.standalone())return this.opened(!1)}toggle(){return this.opened()?this.close():this.open()}updatePosition(){var a,b,c;if(!this.standalone()){switch(a={top:0,left:0},b=d(window).width(),this.parentElement.is("body")||(a={top:this.parentElement.offset().top-this.parentElement.scrollTop(),left:this.parentElement.offset().left-this.parentElement.scrollLeft()},b=this.parentElement.get(0).clientWidth+this.parentElement.offset().left),c={top:this.anchorElement.offset().top+this.anchorElement.outerHeight()-a.top+"px",left:"auto",right:"auto"},this.orientation()){case"left":0>this.containerElement.offset().left?c.left="9px":c.right=b-this.anchorElement.offset().left-this.anchorElement.outerWidth()+"px";break;default:this.containerElement.offset().left+this.containerElement.outerWidth()>d(window).width()?c.right="0":c.left=this.anchorElement.offset().left-a.left+"px"}return this.style(c)}}outsideClick(c){var e;if(a(this,b),e=d(c.target),!("focusin"===c.type||e.closest(this.anchorElement).length||e.closest(this.containerElement).length||e.closest(".calendar").length))return this.close()}}return b.prototype.periodProxy=q,b}.call(this),d.extend(d.fn.daterangepicker,{ArrayUtils:f,MomentIterator:n,MomentUtil:o,Period:q,Config:i,DateExtent:k,DateRange:l,AllTimeDateRange:e,CustomDateRange:j,DateRangePickerView:m,CalendarView:h,CalendarHeaderView:g})})}).call(this);